. ~/.zsh/aliases

# changing directory to code project
function c { cd ~/code/$1; }

# alternative to "rails" command to use templates
function railsapp {
  template=$1
  appname=$2
  shift 2
  rails $appname -m http://github.com/ryanb/rails-templates/raw/master/$template.rb $@
}

function delete_merged_branches {
  git branch -d $( git branch --merged | grep -v '^\*' | grep -v 'master' );
}

alias dmb='delete_merged_branches'

# misc
alias reload='. ~/.bash_profile'
alias cuke='bundle exec cucumber -r features'
alias remove_all_whitespace="find . -name '*.rb' -type f -print0 | xargs -0 sed -i '' 's/[ ]*$//g'"
alias ts='tddium spec'

# Run last cuke
alias lq='find ./ -type f -name "*.feature" -print | xargs ls -rt | tail -1 | xargs bundle exec cucumber -r features'

# Show last 5 modified cukes
alias slq='find ./ -type f -name "*.feature" -print | xargs ls -rlt | tail -5'

alias log='tail -f -n 800 log/development.log'
alias qlog='tail -f -n 800 log/cucumber.log'


# Operating-system dependent commands
platform='unknown'
unamestr=`uname`
if [[ "$unamestr" == 'Linux' ]]; then
  alias pbcopy="xsel -b"
  alias mvim=gvim
fi

# Jeff aliases
alias fbolt='cd ~/dev/fbolt'
alias s='script/server'
alias c='script/console'
alias migrate='rake db:migrate'
alias mp='rake db:migrate && rake db:test:prepare'
alias m='script/generate migration'
alias gp='git pull origin master'
alias qc='cucumber --tags ~@javascript --tags ~@sphinx'

alias setlib='export DYLD_LIBRARY_PATH="/usr/local/lib:$DYLD_LIBRARY_PATH"'
alias unsetlib='unset DYLD_LIBRARY_PATH'

alias gpom='git push origin master'

gf () { git fetch origin $*:$* && git co $*; }

bm () { ./script/generate migration $* && rake db:migrate && rake db:test:prepare; }

brclean () { git branch -d $( git branch --merged | grep -v '^\*' | grep -v 'master' ); }


